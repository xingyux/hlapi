!function(a,b,c,d){function e(b,c){a.extend(this,g,c,!0),this._defaults=g,this.$it=a(b),this.init()}var f="banner27",g={itemSel:".j_item",active:"s_on",nav:!1,navSel:"a",prev:!1,next:!1,initial:0,speedArray:[15e3],afterChange:function(a){}};e.prototype={init:function(){var a=this,b=a.$it,c=b.find(a.itemSel);a.$items=c,a.itemLen=c.length;var d=c.filter("."+a.active);return 1===d.length&&(a.initial=d.prevAll(a.itemSel).length),a.createDom(),1!==d.length&&a.goIndex(a.initial,!1),a.run(),a},createDomNext:function(b,c){var d=c.find("."+b.next);0===d.length&&(d=a('<a href="javascript:;" title="下一屏" class="'+b.next+'"></a>'),c.append(d)),d.on("click",function(a){a.preventDefault(),b.go("next"),b.run()})},createDomPrev:function(b,c){var d=c.find("."+b.prev);0===d.length&&(d=a('<a href="javascript:;" title="上一屏" class="'+b.prev+'"></a>'),c.append(d)),d.on("click",function(a){a.preventDefault(),b.go("prev"),b.run()})},createDomNav:function(b,c){var d=c.find("."+b.nav);0===d.length&&(d=a('<div class="'+b.nav+'"></div>'),c.append(d)),d.html(b.getNavItems()),b.$navi=d.find(b.navSel),d.on("click",b.navSel,function(c){c.preventDefault();var d=a(this);if(!d.hasClass(b.active)){var e=a(this).prevAll(b.navSel).length;b.goIndex(e),b.run()}})},createDom:function(){var a=this,b=a.$it;a.next&&a.createDomNext(a,b),a.prev&&a.createDomPrev(a,b),a.nav&&a.createDomNav(a,b)},getNavItems:function(){for(var a=this,b=a.itemLen,c=a.initial,d="",e=0;e<b;e++){var f=c===e?'class="'+a.active+'"':"";d+='<a href="javascript:;" '+f+"><i></i></a>"}return d},run:function(){var a=this;if(!(a.speedArray&&a.speedArray.length>0))return!1;a.timer&&clearTimeout(a.timer);var b=a.getNowSpeed();a.timer=setTimeout(function(){a.go("next");var b=a.getNowSpeed();a.timer=setTimeout(arguments.callee,b)},b)},pause:function(){var a=this;a.timer&&clearTimeout(a.timer)},getNowSpeed:function(){var a=this,b=a.initial,c=a.speedArray[b]||a.speedArray[0];return c},onNav:function(a){var b=this,c=b.$navi;c.eq(b.initial).removeClass(b.active),c.eq(a).addClass(b.active)},goIndex:function(a,b){var b=b||!0,c=this,d=c.$items;c.initial!==a&&d.eq(c.initial).removeClass(c.active);var e=d.eq(a).addClass(c.active);b&&c.nav&&c.onNav(a),c.initial=a,c.afterChange(e)},go:function(a){var b=this,c=b.initial,d=b.itemLen;"prev"===a?(c--,c<0&&(c=d-1)):(c++,c>d-1&&(c=0)),b.goIndex(c)}},a.fn[f]=function(b){return this.each(function(){a.data(this,"$"+f)||a.data(this,"$"+f,new e(this,b))}),this}}(jQuery,window,document);